<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bungendore Volunteer Rural Fire Brigade</title>
    <!-- Link to Pico CSS for styling -->
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    <!-- Link to custom CSS file -->
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.colors.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">


    <script type="text/javascript">
        !(function (cfg) { function e() { cfg.onInit && cfg.onInit(n) } var x, w, D, t, E, n, C = window, O = document, b = C.location, q = "script", I = "ingestionendpoint", L = "disableExceptionTracking", j = "ai.device."; "instrumentationKey"[x = "toLowerCase"](), w = "crossOrigin", D = "POST", t = "appInsightsSDK", E = cfg.name || "appInsights", (cfg.name || C[t]) && (C[t] = E), n = C[E] || function (g) { var f = !1, m = !1, h = { initialize: !0, queue: [], sv: "8", version: 2, config: g }; function v(e, t) { var n = {}, i = "Browser"; function a(e) { e = "" + e; return 1 === e.length ? "0" + e : e } return n[j + "id"] = i[x](), n[j + "type"] = i, n["ai.operation.name"] = b && b.pathname || "_unknown_", n["ai.internal.sdkVersion"] = "javascript:snippet_" + (h.sv || h.version), { time: (i = new Date).getUTCFullYear() + "-" + a(1 + i.getUTCMonth()) + "-" + a(i.getUTCDate()) + "T" + a(i.getUTCHours()) + ":" + a(i.getUTCMinutes()) + ":" + a(i.getUTCSeconds()) + "." + (i.getUTCMilliseconds() / 1e3).toFixed(3).slice(2, 5) + "Z", iKey: e, name: "Microsoft.ApplicationInsights." + e.replace(/-/g, "") + "." + t, sampleRate: 100, tags: n, data: { baseData: { ver: 2 } }, ver: undefined, seq: "1", aiDataContract: undefined } } var n, i, t, a, y = -1, T = 0, S = ["js.monitor.azure.com", "js.cdn.applicationinsights.io", "js.cdn.monitor.azure.com", "js0.cdn.applicationinsights.io", "js0.cdn.monitor.azure.com", "js2.cdn.applicationinsights.io", "js2.cdn.monitor.azure.com", "az416426.vo.msecnd.net"], o = g.url || cfg.src, r = function () { return s(o, null) }; function s(d, t) { if ((n = navigator) && (~(n = (n.userAgent || "").toLowerCase()).indexOf("msie") || ~n.indexOf("trident/")) && ~d.indexOf("ai.3") && (d = d.replace(/(\/)(ai\.3\.)([^\d]*)$/, function (e, t, n) { return t + "ai.2" + n })), !1 !== cfg.cr) for (var e = 0; e < S.length; e++)if (0 < d.indexOf(S[e])) { y = e; break } var n, i = function (e) { var a, t, n, i, o, r, s, c, u, l; h.queue = [], m || (0 <= y && T + 1 < S.length ? (a = (y + T + 1) % S.length, p(d.replace(/^(.*\/\/)([\w\.]*)(\/.*)$/, function (e, t, n, i) { return t + S[a] + i })), T += 1) : (f = m = !0, s = d, !0 !== cfg.dle && (c = (t = function () { var e, t = {}, n = g.connectionString; if (n) for (var i = n.split(";"), a = 0; a < i.length; a++) { var o = i[a].split("="); 2 === o.length && (t[o[0][x]()] = o[1]) } return t[I] || (e = (n = t.endpointsuffix) ? t.location : null, t[I] = "https://" + (e ? e + "." : "") + "dc." + (n || "services.visualstudio.com")), t }()).instrumentationkey || g.instrumentationKey || "", t = (t = (t = t[I]) && "/" === t.slice(-1) ? t.slice(0, -1) : t) ? t + "/v2/track" : g.endpointUrl, t = g.userOverrideEndpointUrl || t, (n = []).push((i = "SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)", o = s, u = t, (l = (r = v(c, "Exception")).data).baseType = "ExceptionData", l.baseData.exceptions = [{ typeName: "SDKLoadFailed", message: i.replace(/\./g, "-"), hasFullStack: !1, stack: i + "\nSnippet failed to load [" + o + "] -- Telemetry is disabled\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\nHost: " + (b && b.pathname || "_unknown_") + "\nEndpoint: " + u, parsedStack: [] }], r)), n.push((l = s, i = t, (u = (o = v(c, "Message")).data).baseType = "MessageData", (r = u.baseData).message = 'AI (Internal): 99 message:"' + ("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) (" + l + ")").replace(/\"/g, "") + '"', r.properties = { endpoint: i }, o)), s = n, c = t, JSON && ((u = C.fetch) && !cfg.useXhr ? u(c, { method: D, body: JSON.stringify(s), mode: "cors" }) : XMLHttpRequest && ((l = new XMLHttpRequest).open(D, c), l.setRequestHeader("Content-type", "application/json"), l.send(JSON.stringify(s))))))) }, a = function (e, t) { m || setTimeout(function () { !t && h.core || i() }, 500), f = !1 }, p = function (e) { var n = O.createElement(q), e = (n.src = e, t && (n.integrity = t), n.setAttribute("data-ai-name", E), cfg[w]); return !e && "" !== e || "undefined" == n[w] || (n[w] = e), n.onload = a, n.onerror = i, n.onreadystatechange = function (e, t) { "loaded" !== n.readyState && "complete" !== n.readyState || a(0, t) }, cfg.ld && cfg.ld < 0 ? O.getElementsByTagName("head")[0].appendChild(n) : setTimeout(function () { O.getElementsByTagName(q)[0].parentNode.appendChild(n) }, cfg.ld || 0), n }; p(d) } cfg.sri && (n = o.match(/^((http[s]?:\/\/.*\/)\w+(\.\d+){1,5})\.(([\w]+\.){0,2}js)$/)) && 6 === n.length ? (d = "".concat(n[1], ".integrity.json"), i = "@".concat(n[4]), l = window.fetch, t = function (e) { if (!e.ext || !e.ext[i] || !e.ext[i].file) throw Error("Error Loading JSON response"); var t = e.ext[i].integrity || null; s(o = n[2] + e.ext[i].file, t) }, l && !cfg.useXhr ? l(d, { method: "GET", mode: "cors" }).then(function (e) { return e.json()["catch"](function () { return {} }) }).then(t)["catch"](r) : XMLHttpRequest && ((a = new XMLHttpRequest).open("GET", d), a.onreadystatechange = function () { if (a.readyState === XMLHttpRequest.DONE) if (200 === a.status) try { t(JSON.parse(a.responseText)) } catch (e) { r() } else r() }, a.send())) : o && r(); try { h.cookie = O.cookie } catch (k) { } function e(e) { for (; e.length;)!function (t) { h[t] = function () { var e = arguments; f || h.queue.push(function () { h[t].apply(h, e) }) } }(e.pop()) } var c, u, l = "track", d = "TrackPage", p = "TrackEvent", l = (e([l + "Event", l + "PageView", l + "Exception", l + "Trace", l + "DependencyData", l + "Metric", l + "PageViewPerformance", "start" + d, "stop" + d, "start" + p, "stop" + p, "addTelemetryInitializer", "setAuthenticatedUserContext", "clearAuthenticatedUserContext", "flush"]), h.SeverityLevel = { Verbose: 0, Information: 1, Warning: 2, Error: 3, Critical: 4 }, (g.extensionConfig || {}).ApplicationInsightsAnalytics || {}); return !0 !== g[L] && !0 !== l[L] && (e(["_" + (c = "onerror")]), u = C[c], C[c] = function (e, t, n, i, a) { var o = u && u(e, t, n, i, a); return !0 !== o && h["_" + c]({ message: e, url: t, lineNumber: n, columnNumber: i, error: a, evt: C.event }), o }, g.autoExceptionInstrumented = !0), h }(cfg.cfg), (C[E] = n).queue && 0 === n.queue.length ? (n.queue.push(e), n.trackPageView({})) : e(); })({
            src: "https://js.monitor.azure.com/scripts/b/ai.3.gbl.min.js",
            // name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied
            // ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,
            // useXhr: 1, // Use XHR instead of fetch to report failures (if available),
            // dle: true, // Prevent the SDK from reporting load failure log
            crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag
            // onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DON'T ADD anything to the sdk.queue -- As they won't get called)
            // sri: false, // Custom optional value to specify whether fetching the snippet from integrity file and do integrity check
            cfg: { // Application Insights Configuration
                connectionString: "InstrumentationKey=034bc5db-22d2-4464-8008-17b93bd3a2db;IngestionEndpoint=https://australiaeast-1.in.applicationinsights.azure.com/;LiveEndpoint=https://australiaeast.livediagnostics.monitor.azure.com/;ApplicationId=e2acf118-603c-4e20-9536-9d78e2d8a96f"
            }
        });
    </script>

</head>

<header id="header">
    <article class="container-fluid" id="pageNav">
        <nav>
            <ul>
                <li><img src="/Images/logo.png" alt="Bungendore Volunteer Rural Fire Brigade Logo" class="nav-logo">
                </li>
                <li><a class="colorheading contrast" href="#info">Fire Information</a></li>
                <li><a class="colorheading contrast" href="#prepare">Prepare</a></li>
                <li><a class="colorheading contrast" href="#membership">Membership</a></li>
                <li><a class="colorheading contrast" href="#events">Events</a></li>
            </ul>
        </nav>
    </article>
</header>

<body>



    <main class="container-fluid">
        <!-- Header section with navigation -->

        <!-- Hero section with main heading -->
        <div class="hero">
            <hgroup class="heading-background">
                <div id="heroLogo" class="logo"></div>
                <div>
                    <h1>Bungendore Volunteer Rural Fire Brigade</h1>
                    <div class="button-container">
                        <a target="_blank" href="https://www.rfs.nsw.gov.au" class="custom-button">RFS Website</a>
                        <button id="contactUsBtn" target="_blank" href="#" class="custom-button">Contact Us</button>
                        <a target="_blank"
                            href="https://nswrfsprod.service-now.com/guardian_csp?id=guardian_cat_item&sys_id=578b27b4c360b1104a9cdc311501313e"
                            class="custom-button">Permit Application</a>
                        <a href="https://facebook.com/BungendoreRFS" target="_blank"><i
                                class="fab fa-facebook social-icon"></i></a>
                        <a href="https://instagram.com/BungendoreRFS" target="_blank"><i
                                class="fab fa-instagram social-icon"></i></a>
                    </div>
                </div>
            </hgroup>
        </div>

        <!-- Grid section with article cards -->
        <div class="container content-container">
            <div class="grid">
                <article class="summaryCard">
                    <header class="red">
                        <h3>Fire Information in Our Area</h3>
                    </header>
                    <div id="fireMessages">Stay updated with the latest fire information in our area.<br></div>
                    <!-- Fire Danger Rating and Incident Count Table -->
                    <div class="grid">
                        <table id="fireDangerTable" class="summaryCard">
                            <tr>
                                <td id="fireDangerRatingCell"></td>
                                <td id="incidentCountCell" style="text-align: center;"></td>
                            </tr>
                            <tr class="invisible-cell">
                                <td><small>Fire Danger Rating</small></td>
                                <td><small>Local Incidents</small></td>
                            </tr>
                        </table>
                    </div>
                    <p><a href="#info">Learn More</a></p>
                </article>
                <article class="summaryCard">
                    <header class="amber">
                        <h3>Prepare for Bushfires</h3>
                    </header>
                    <p>We’ve seen the devastating impact that bush fires can have – on people, properties and
                        communities.
                        It’s important you take the time now to get ready for bush fires.
                        It can take as little as five minutes to make your plan. Discuss it with your family so you know
                        what you will do in the event of a fire.</p>
                    <p><a href="#prepare">Learn More</a></p>
                </article>
            </div>
            <div class="grid">
                <article class="summaryCard">
                    <header class="blue">
                        <h3>Membership</h3>
                    </header>
                    <p>Join our brigade and help protect our community.</p>
                    <p><a href="#membership">Learn More</a></p>
                </article>
                <article class="summaryCard">
                    <header class="green">
                        <h3>Community Events</h3>
                    </header>
                    <p>Participate in our community events and support our brigade.</p>
                    <p><a href="#events">Learn More</a></p>
                </article>
            </div>


            <!-- Detailed sections for each topic with responsive grid -->
            <article id="info">
                <header class="red">
                    <h3>Fire Information in Our Area</h3>
                </header>
                <div class="">

                    <div id="fireDangerTableContainer"></div>
                    <!-- Map section -->
                    <div id="map" style="height: 500px; width: 100%;"></div>
                    <div id="fireInfoContent"></div>
                    <div id="fireInfoTableContainer" class="grid-container"></div>

                    <article id="prepare">
                        <header class="amber">
                            <h3>Prepare for Bushfires</h3>
                        </header>
                        <div class="grid">
                            <div>

                                <div id="prepareContent"></div>
                            </div>
                            <div>
                                <img src="/Images/prepare.png" alt="Prepare for Bushfires">
                                <p>Bush fire is a part of life in New South Wales. So you need to live bush fire ready.
                                    That means knowing your risk and having a plan for what to do during a fire. You can
                                    make your plan online in as little as five minutes at <a
                                        href="https://www.myfireplan.com.au" target="_blank">www.myfireplan.com.au</a>
                                </p>
                                <div id="BFDPContent"></div>
                                <a href="https://nswrfsprod.service-now.com/guardian_csp?id=guardian_index"
                                    target="_blank">Apply for a Fire Permit or Total Fire Ban exemption, notify us of a
                                    planned burn, or to submit Fire Trails enquiries.</a>

                            </div>
                        </div>
                    </article>

                    <article id="membership">
                        <header class="blue">
                            <h3>Membership</h3>
                        </header>
                        <div class="grid">
                            <div id="membershipContent"></div>
                        </div>
                        <div class="grid">
                            <img src="https://bungendorerfs.org/images/membership.jpg" alt="Membership">
                            <div id="membershipSection">
                                <h4>Upcoming Training Cutoff Dates</h4>
                                <div id="membershipCalendar" class="calendar-widget"></div>
                            </div>
                        </div>

                    </article>
                    <article id="events">
                        <header class="green">
                            <h3>Upcoming Events</h3>
                        </header>
                        <div class="grid">
                            <div>
                                <img src="https://bungendorerfs.org/images/events.jpg" alt="Community Events">
                                <div id="eventsContent"></div>
                            </div>
                            <div id="communityEventsSection">
                                <h4>Community Events</h4>
                                <div id="communityEventsCalendar" class="calendar-widget"></div>
                            </div>



                        </div>
                    </article>
                </div>
    </main>

    <footer id="footer">
        <article class="container-fluid" id="pageFoot">
            <div class="container grid">
                <article>
                    <aside>
                        <ul>
                            <li><strong>Bungendore RFS</strong></li>
                            <div class="social-icon">
                                <a href="https://facebook.com/BungendoreRFS" target="_blank"><i
                                            class="fab fa-facebook social-icon"></i></a>
                                <a href="https://instagram.com/BungendoreRFS" target="_blank"><i
                                            class="fab fa-instagram social-icon"></i></a>
                            </div>
                        </ul>
                    </aside>
                </article>
                <article>
                    <aside>
                        <ul>
                            <li><strong>Station</strong></li>
                            <li>28 King St<br>Bungendore NSW 2621</li>
                        </ul>
                    </aside>
                </article>
                <article>
                    <aside>
                        <ul>
                            <li><strong>Postal</strong></li>
                            <li>PO Box 23<br>Bungendore NSW 2621</li>
                        </ul>
                    </aside>
                </article>
                <article>
                    <aside>
                        <ul>
                            <li><strong>Hours</strong></li>
                            <li>Friday 7-8pm<br>The station is normally only manned during incidents.</li>
                        </ul>
                    </aside>
                </article>
            </div>
        </article>
    </footer>

    <!-- Modal -->
    <dialog id="contactModal">
        <article>
            <header>
                <button class="close" aria-label="Close" rel="prev"></button>
                <h2>Contact Us</h2>
            </header>
            <form id="contactForm">
                <label>If you'd like more information we can reach out to you</label>
                <fieldset>
                    <input name="name" placeholder="Name" autocomplete="name" required />
                    <input id="emailInput" type="email" name="email" placeholder="Email" autocomplete="email"
                        required />
                    <input name="phone" placeholder="Phone" autocomplete="tel" />
                    <textarea name="enquiry" placeholder="what would you like to know?"
                        aria-label="What would you like to know?"></textarea>
                </fieldset>
                <footer>
                    <input id="submitButton" type="submit" value="Submit" />
                </footer>
            </form>
        </article>
    </dialog>

    <!-- Modal Structure -->
    <dialog id="eventModal">
        <article class="modal-content">
            <header>
                <button id="eventModalClose" class="close" aria-label="Close" rel="prev"></button>
                <h2><i class="fas fa-calendar-alt"></i> Event</h2>
            </header>
            <div id="modalEventContent"></div>
        </article>
    </dialog>


</body>


<!-- Include the leaflet library -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<!-- Include the marked library -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/luxon/2.3.0/luxon.min.js"></script>
<!-- Include the DOMPurify library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.3.4/purify.min.js"></script>

<!-- Load my own scripts -->
<script src="main.js"></script>
<script src="dynamicContent.js"></script>

</html>